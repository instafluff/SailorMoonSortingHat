<html>
  <head>
    <title>Sailor Moon Sorting Hat - Which Sailor Moon Character Are You?</title>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <div class="container">
      <div id="questions">
        <div class="card">
          <img src="web/sailormoon.jpg" class="card-img-top" alt="Sailor Moon Image">
          <div class="card-body">
            <h5 id="q-title" class="card-title">[QUESTION]</h5>
            <p class="card-text justify">
              <a id="agreeButton" href="#" class="btn btn-success float-right">Agree</a>
              <a id="disagreeButton" href="#" class="btn btn-danger float-right">Disagree</a>
              <!-- <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
                <label class="form-check-label" for="inlineRadio2">Agree</label>
              </div> -->
              <!-- <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
                <label class="form-check-label" for="inlineRadio1">Strong Agree</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
                <label class="form-check-label" for="inlineRadio2">Agree</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3" value="option3" disabled>
                <label class="form-check-label" for="inlineRadio3">Neutral</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio4" value="option4">
                <label class="form-check-label" for="inlineRadio4">Disagree</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio5" value="option5">
                <label class="form-check-label" for="inlineRadio5">Strong Disagree</label>
              </div> -->
            </p>
            <!-- <a id="nextButton" href="#" class="btn btn-primary float-right">Next!</a> -->
          </div>
        </div>
      </div>
    </div>
    <script>
      let questions = [
        {
          "question": "My best ideas at work come from an interchange of ideas and sharing with others.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "When I run a meeting, I am usually disciplined about following my prepared agenda.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "When handling a subordinate's development, I am most likely to  discuss a problem I have with his or her behavior.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "I prefer the place I work to be structured with clear rules and regulations.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "I would rather have a supervisor with whom I have a lot of day-by-day interaction.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "I prefer meetings where most time is spent on the application of the ideas discussed.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "I prefer a work environment where frequent differences of opinion breed interesting discussions and ideas.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "I prefer projects at work to be well-defined and planned out.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "I prefer to spend my lunch hour eating with a group.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "If my boss gives me a difficult task, I usually collect as much information as possible before starting.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "In a performance appraisal, I prefer my boss to write that I am intelligent and reasonable.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "I prefer to  plan my workday carefully in advance.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "I more often prefer to keep my office door open.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "When a new idea flashes into my mind, I usually like to test if carefully before I get excited.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "In a team meeting, I prefer to emphasize an analytical discussion of the facts.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "I prefer a job in which the rewards are seen clearly in regular periods.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "I dress for work so that other people notice and admire my clothing.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "When I solve problems, I am more likely to  give most weight to the facts in front of me.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "If I have to confront colleagues or subordinates, I am usually interested in making sure I give them the facts accurately.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "I would rather have a boss who provides a lot of structure and organization.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "I prefer most of my jobs at work to be a continuing series of short tasks.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "When I write a report, I usually think first of  the details.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "When I have a decision to make at work, I usually reason it through regardless of my feelings.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "I prefer my own office to be one in which things are olderly, organized, and systematic.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "When I have lunch with my colleagues, I would rather talk about people.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "I would rather have my boss trust me with practical problems to solve.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "When faced with a decision at work, I usually prefer to  think things through.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "I prefer the work I do every day to  be continuous and relatively predictable.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "When I have to organize and run a meeting, I more often feel satisfied that I have the opportunity to lead.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "If I were asked to prepare a strategic plan, I would be more likely to  emphasize what is practical now.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "When faced with a decision at work, I usually focus on the facts and figures above all.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "When my boss gives me a new project, I usually prefer a clear statement of what is expected.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "I prefer to have a large group of colleagues at work.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "In one-on-one meetings, I am more likely to  listen quietly and absorb details.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "If someone argues with a policy or decision I make, I usually remain firm.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "When I have made a tough choice at work, I usually am satisfied that it is done.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "When I attend a company outing, I usually walk around and meet people I may not know well.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "I think my colleagues see me more as a here-and-now person.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "When I have a long and complex report to read, I am more likely to  be patient and study the details.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "I prefer my work environment to be  comfortable, predictable, and stable.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "My colleagues at work are more likely to describe me as  an energetic team player.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "When I prepare a presentation, I prefer to emphasize the use of real facts from my own experience.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "I prefer to work with colleagues who rely heavily on logic.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "If someone on my team is late with a scheduled task, I usually get impatient and annoyed.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "When I attend a training session, I am more likely to  participate openly and actively.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "When colleagues and subordinates present ideas to me, I am usually more interested in  immediately useful ideas.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "If I have to deal with a colleague's feelings, I prefer to be  truthful even if I can't be tactful.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "I prefer projects that  have a clear ending date when I know they will be finished.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "When I have a decision to make at work, I more often talk it over with a number of people before I decide.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "I prefer a job where I can  use my experience to work at familiar tasks.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "When I am at a meeting and a difference of opinion gets heated, I usually defend the side I think is most logical.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "When I get a new project, I usually prefer to  get to it and complete it as quickly as possible.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "I am more interested in  the actual tasks I am doing day-by-day.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "When I attend a training session, I usually prefer experiential processes.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "When I have a meeting with a colleague, I usually get through it quickly in a businesslike manner.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "I would rather be in a job with  activities requiring me to reach a conclusion.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "When I ask a colleague for advice or help, I am usually comfortable.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "In a meeting or when reading a report, I am more likely to  remember the facts presented.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "When colleagues ask my advice about a work matter, I more often guide them toward a decision based purely on logic.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "When I am in a meeting, I am usually more interested in  getting the job done as quickly as possible.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "When I am interrupted in the middle of a tough job, I usually welcome the opportunity to talk to someone.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "When I read a report, I usually go first to  the body of detailed information.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "When I am putting forward a new idea at work, I more often remain firm about the correctness of it.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "If my boss insists that I schedule my workday, I feel satisfied I am organized.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "When I am at a meeting and someone tells a joke, I usually laugh and think of one to tell.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "In a performance appraisal, it would be more accurate if my boss said I was  practical.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "I am usually more interested in how my colleagues think about problems.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "When a new and unusual policy announcement is issued at work, I am usually annoyed or otherwise upset at the changes.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "In a meeting, I usually speak out directly when I want to.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "When I start a new project, I usually write a step-by-step plan early in the process.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "When I hear a presentation from a colleague, I am more likely to be openly and intellectually critical.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "If they couldn't be both, I would rather have colleagues who are  well-organized.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "I would prefer to work in a company where everyone works together in an open, active environment.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "I more often seek out work that applies my practical skills and nature.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "When I have to make a decision at work, I am more likely to  analyze the situation logically without considering my values and feelings.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "When I present my views in a meeting, I am usually decisive.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "When I need to pass on an idea or information, I prefer to  talk directly to people about it.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "My leadership style is best described as  practical.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "In a performance appraisal meeting, I am usually more likely to  be frank and honest regardless of feelings.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "When I am discussing an important issue at a meeting, I usually try to reach a definite conclusion quickly.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "I enjoy more a workday filled with variety and interactions with others.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "I prefer a work situation that is stable with little change.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "My colleagues would be more likely to describe my behavior at work as  cool, calm, and objective.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "At work, I prefer projects on which I work quickly to make a short deadline.",
          "types": [
            "J",
            "P"
          ]
        },
        {
          "question": "When I am in a meeting with colleagues and a high-ranking manager or executive comes in, I usually greet the person in a comfortable and friendly way.",
          "types": [
            "E",
            "I"
          ]
        },
        {
          "question": "When I think of my most important work assets, they are  more in the realm of the practical.",
          "types": [
            "S",
            "N"
          ]
        },
        {
          "question": "In a training session or course, I prefer a trainer who depends more on precision and logic.",
          "types": [
            "T",
            "F"
          ]
        },
        {
          "question": "I usually push my colleagues or subordinates for  quick decisions.",
          "types": [
            "J",
            "P"
          ]
        }
      ];
      const qCount = 32;
      let currentQuestion = -1;
      let sailors = {
        "ISTJ": { character: "Sailor Mercury", type: "The Examiner" },
        "ISFJ": { character: "Sailor Pluto", type: "The Protector" },
        "INFJ": { character: "Sailor Saturn", type: "The Counselor" },
        "INTJ": { character: "Sailor Star Healer", type: "The Strategist" },
        "ISTP": { character: "Sailor Uranus", type: "The Mechanic" },
        "ISFP": { character: "Sailor Neptune", type: "The Artist" },
        "INFP": { character: "Tuxedo Kamen", type: "The Healer" },
        "INTP": { character: "Sailor Star Maker", type: "The Architect" },
        "ESTP": { character: "Sailor Star Fighter", type: "The Promoter" },
        "ESFP": { character: "Sailor Venus", type: "The Performer" },
        "ENFP": { character: "Sailor Moon", type: "The Champion" },
        "ENTP": { character: "Artemis", type: "The Visionary" },
        "ESTJ": { character: "Luna", type: "The Supervisor" },
        "ESFJ": { character: "Sailor Jupiter", type: "The Provider" },
        "ENFJ": { character: "Sailor Chibimoon", type: "The Giver" },
        "ENTJ": { character: "Sailor Mars", type: "The Commander" },
      };
      let results = {
        "E": 0,
        "I": 0,
        "S": 0,
        "N": 0,
        "T": 0,
        "F": 0,
        "J": 0,
        "P": 0,
      };
      let selectedQuestions = questions.sort( x => Math.random() * 2 - 1 ).slice( 0, qCount );
      console.log( selectedQuestions );
      document.querySelector( "#agreeButton" ).onclick = () => {
        if( currentQuestion < qCount - 1 ) {
          nextQuestion( 0 );
        }
        else {
          location.reload();
        }
      };
      document.querySelector( "#disagreeButton" ).onclick = () => {
        nextQuestion( 1 );
      };
      // document.querySelector( "#nextButton" ).onclick = () => {
      //   nextQuestion();
      // };
      function nextQuestion( choice ) {
        if( choice >= 0 ) {
          // Add result
          results[ selectedQuestions[ currentQuestion ].types[ choice ] ]++;
          console.log( results );
        }
        if( currentQuestion < qCount - 1 ) {
          currentQuestion++;
          document.querySelector( "#q-title" ).innerText = selectedQuestions[ currentQuestion ].question;
        }
        else {
          // Calculate results
          let type = ( results[ "E" ] > results[ "I" ] ? "E" : "I" ) +
                     ( results[ "S" ] > results[ "N" ] ? "S" : "N" ) +
                     ( results[ "T" ] > results[ "F" ] ? "T" : "F" ) +
                     ( results[ "J" ] > results[ "P" ] ? "J" : "P" );
          console.log( type, sailors[ type ] );
          document.querySelector( "#q-title" ).innerText = `You are: ${type} - ${sailors[ type ].character} (${sailors[ type ].type})`;
          document.querySelector( "#agreeButton" ).innerText = "Take the quiz again";
          document.querySelector( "#disagreeButton" ).style.visibility = "hidden";
        }
      }
      nextQuestion( -1 );
    </script>
  </body>
</html>
